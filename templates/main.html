<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="{{ url_for('static', filename='style2.css')}}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>ESTATE AGENCY: MAIN PAGE</title>
</head>



<body style="background-color: #2F4F4F;">
{% include 'header.html' %}
<div class="container" style="padding: 10 2px;">
    <div class="row">
        <div class="col-md-12">
            <p style=" width: 100%;
            font-size: 25px;
            font-weight: bold;
              color: white;
              display: flex;
              justify-content: center;
              align-items: center;">BALANCES AND STATUSES</p>
                   <div  style="height: 3px;width: 100%;background-color: white;"></div>
            <p></p>
            <div class="row">
      <div class="col-md-12">
  <div class="card">
    <div class="card-header">
      Change Estate status
    </div>
    <div class="card-body">
      <form action="/main/{{ public_key }}" method="post">
        <div class="form-group">
          <label>ID Estate</label>
          <input type="number" class="form-control" name="id_estate" placeholder="Enter ID Estate" required>
        </div>
        <div class="form-group">
          <label>Status</label>
          <select class="form-control" name="status">
            <option value="0">Closed</option>
            <option value="1">Active</option>
          </select>
        </div>
        <button type="submit" class="btn btn-success">Change status</button>
      </form>
    </div>
  </div>
</div>
    </div>
            <p></p>

   <div class="col-md-12">
  <div class="card">
    <div class="card-header">
      Change Advertisement status
    </div>
    <div class="card-body">
      <form action="/main/{{ public_key }}" method="post">
        <div class="form-group">
          <label>ID Advertisement</label>
          <input type="number" class="form-control" name="id_ad" placeholder="Enter the Advertisement ID" required>
        </div>
        <div class="form-group">
          <label>Status</label>
          <select class="form-control" name="status">
            <option value="0">Active</option>
            <option value="1">Closed</option>
          </select>
        </div>
        <button type="submit" class="btn btn-success">Change status</button>
      </form>
    </div>
  </div>
</div>
            <p></p>
                               <div  style="height: 3px;width: 100%;background-color: white;"></div>
<div class="row">
    <div class="col-md-6">
        <form method="POST" action="{{ url_for('main', public_key=public_key) }}">
            <h2 style="margin-top: 30px; color: white;">Create new estate:</h2>
            <div class="form-group">
                <label style="color: white;" for="size">Estate square:</label>
                <input type="number" class="form-control" id="size" name="size">
            </div>
            <div class="form-group">
                <label style="color: white;" for="estate_address">Estate address:</label>
                <input type="text" class="form-control" id="estate_address" name="estate_address">
            </div>
            <div class="form-group">
                <label style="color: white;" for="estate_type">Estate type:</label>
                <select class="form-control" id="estate_type" name="estate_type">
                    <option value="0">House</option>
                    <option value="1">Flat</option>
                    <option value="2">Loft</option>
                </select>
            </div>
            <input type="submit" class="btn btn-danger" id="submit_create_estate" name="submit_create_estate" value="Create estate">
        </form>
    </div>
    <div class="col-md-6 float-right">
          <form method="POST" action="{{ url_for('main', public_key=public_key) }}">
            <h2 style="margin-top: 30px; color: white;">Create new ad:</h2>
            <div class="form-group">
                <label style="color: white;" for="id_estate">Estate ID:</label>
                <input type="number" class="form-control" id="id_estate" name="id_estate">
            </div>
            <div class="form-group">
                <label style="color: white;" for="price">Price:</label>
                <input type="number" class="form-control" id="price" name="price">
            </div>
            <input type="submit" class="btn btn-danger" id="submit_create_ad" name="submit_create_ad" value="Create ad">
        </form>
    </div>
</div>

            <p></p>
            <div  style="height: 3px;width: 100%;background-color: white;"></div>
            <p></p>
            <div class="row">
                <div class="col-md-6">
                    <div class="card text-white bg-success mb-3" style="max-width: 30rem;">
                        <div style="font-family: Arial Black;" class="card-header">Balance on account:</div>
                        <div class="card-body">
                            <h5 class="card-title">{{ balance }} wei</h5>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 30rem;">
                        <div style="font-family: Arial Black;" class="card-header">Balance on smart-contract:</div>
                        <div class="card-body">
                            <h5 class="card-title">{{ balance_smart }} wei</h5>
                        </div>
                    </div>
                </div>

                       <form method="POST" action="{{ url_for('main', public_key=public_key) }}" class="form-inline">

    <h2 style="margin-top: 30px; color: white;">Withdraw the amount from contract:</h2>
  <label for="amount" style="font-family: Arial Black; color: white;">Amount:</label>
  <input type="number" id="amount" class="form-control mb-2 mr-sm-2" placeholder="Enter the amount to withdraw" name="amount" required>

  <input type="submit" name="send" value="Withdraw" class="btn btn-danger mb-2">
</form>

                <div class="col-md-6 float-right">
  <form method="POST" action="{{ url_for('main', public_key=public_key) }}">
    <h2 style="margin-top: 30px; color: white;">Buy the Estate:</h2>
    <div class="form-group">
      <label style="color: white;" for="id_ad">ID advertisement:</label>
      <input type="number" class="form-control" id="id_ad" name="id_ad">
    </div>
      <p></p>
    <input type="submit" class="btn btn-danger" id="submit_buy_ad" name="submit_buy_ad" value="Buy estate">
  </form>
</div>

            </div>
            <p></p>
            <p></p>
                   <p style=" width: 100%;
            font-size: 25px;
            font-weight: bold;
              color: white;
              display: flex;
              justify-content: center;
              align-items: center;">ESTATES</p>
            <p></p>
                   <div  style="height: 3px;width: 100%;background-color: white;"></div>
            <p></p>
        <div class="row">
    {% for es in estates %}
    <div class="col-md-4">
        <div class="card" style="width: 18rem; margin-bottom: 10px;">
            <div class="card-body">
                <h5 class="card-title">Estate № {{ es[5] }}</h5>
                <p>Square: {{ es[0] }}</p>
                <p>Address: {{ es[1] }}</p>
                <p>Owner: {{ es[2] }}</p>
                <p>Type: {{ es[3] }}</p>
                <p>Status: {{ es[4] }}</p>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
                        <p></p>
             <p style=" width: 100%;
            font-size: 25px;
            font-weight: bold;
              color: white;
              display: flex;
              justify-content: center;
              align-items: center;">ADVERTISEMENT</p>
              <div  style="height: 3px;width: 100%;background-color: white;"></div>
              <p></p>

            <div class="row">
                  {% for add in adds %}
    <div class="col-md-4">
        <div class="card" style="width: 18rem; margin-bottom: 10px;">
            <div class="card-body">
                <h5 class="card-title">Advertisement № {{ add[6] }}</h5>
                <p>Owner: {{ add[0] }}</p>
                <p>Buyer: {{ add[1] }}</p>
                <p>Price: {{ add[2] }}</p>
                <p>ID Estate: {{ add[3] }}</p>
                <p>Date: {{ add[4] }}</p>
                <p>Status: {{ add[5] }}</p>
            </div>
        </div>
    </div>
    {% endfor %}
        </div>
            </div>
    </div>
</div>
</body>
</html>